<!DOCTYPE html>
<html lang="en" xmlns:th = "http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <link th:href="@{/css/TableStyle.css}" rel="stylesheet" />
</head>
<body  style="background: linear-gradient(to bottom right, #338A94, #D0D0D0)">
<a href="/userHomePage" style="display: inline-block">
    <button class="gradient-button1" >Back</button>
</a>
<form method="post" action="/productFilterList" style="display: inline">
    <input style="width: 60%" class="rounded-input" type="text" name="filter" id="filter" placeholder="Search"/>
    <button class="gradient-button1">FIND</button>
</form>
<table border="1" id="tableID">
    <thead>
    <tr>
        <th>Product Name</th>
        <th>Price</th>
        <th>Brand</th>
        <th>Quantity</th>
        <th>Category</th>
        <th></th>
    </tr>
    </thead>
    <tbody>
    <tr th:each="product : ${products}">
        <td th:text="${product.getName()}"></td>
        <td th:text="${product.getPrice()}"></td>
        <td th:text="${product.getBrand()}"></td>
        <td th:text="${product.getQuantity()}"></td>
        <td th:text="${(category.findById(product.getCategoryID()).orElseThrow()).getProductCategoryName()}"></td>
        <td>
            <a th:href="'/action/' + ${product.getID()} + '/add'">
                <button id="button">BUY</button>
            </a>
        </td>
    </tr>
    </tbody>
</table>
<div th:text="${message}" style="color: red"></div>
</body>
</html>